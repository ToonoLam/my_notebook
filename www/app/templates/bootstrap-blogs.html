{% extends 'bootstrap-base.html' %}

{% block title %}日志{% endblock %}

{% block content %}
<!--<div class="container content-wrap" hidden="hidden">-->

    <div class="blog-index">
        <!--<img src="../static/img/user.png"/>-->
    </div>
    <div style="display: inline; position: static; margin-left: 25%;">

        <main class="main-content">
            <!--页头信息-->
            <div class="blog-tags" style="">
                <div id="tags">
                    <a href="?tag=廖雪峰python实战">廖雪峰python实战</a>
                    <a href="?tag=others">others</a>
                </div>
            </div>
            {% for blog in blogs %}
            <article class="blog-post">
                <header>
                    <h3 class="blog-post-title text-center"><a href="blog/{{ blog.id }}">{{ blog.name }}</a></h3>

                </header>
                <!--<div class="container-fluid blog-summary">-->
                <!--{{ blog.content|marked|safe }}-->
                <!--</div>-->
                <div class="post-permalink post-left">
                    <small>发表于 {{ blog.created_at|datetime }}</small>
                </div>
                <div class="post-permalink">
                    <span><a class="post-right" href="blog/{{ blog.id }}">阅读更多</a></span>
                </div>
                <hr class="divider" style=" height:2px;border:none;border-top:2px dotted #C5C5C5;"/>
                <footer>
                    <div class="pull-left tag-list">
                    </div>
                </footer>
            </article>
            {% endfor %}
            <nav class="col-xs-12 text-center">
                <ul class="pagination">
                    <li class="{{'active' if page.index == 1}}"><a
                            href="?tag={{tag}}&amp;page=1&amp;size={{page.limit}}">1</a></li>
                    {% if (page.index - 1) > 3 %}
                    <li class="disabled"><span>...</span></li>
                    {% endif %}
                    {% for index in range(2, page.last) if (index - page.index) | abs < 3%}
                    <li class="{{'active' if page.index == index}}"><a
                            href="?tag={{tag}}&amp;page={{index}}&amp;size={{page.limit}}">{{ index }}</a></li>
                    {% endfor %}
                    {% if (page.last - page.index) > 3 %}
                    <li class="disabled"><span>...</span></li>
                    {% endif %}
                    {% if page.last > 1 %}
                    <li class="{{'active' if page.index == page.last}}"><a
                            href="?tag={{tag}}&amp;page={{page.last}}&amp;size={{page.limit}}">{{page.last}}</a></li>
                    {% endif %}
                </ul>
            </nav>

        </main>


        <!--页尾信息-->
        <footer id="footer">
            <!--<div class="tail-vacant" style="width: 30%;"></div>-->
            <div class="tail">
                <span id="tail-left">Powered by <a href="http://v3.bootcss.com/">Bootstrap</a></span>
                <span id="tail-right"><a href="http://www.miitbeian.gov.cn">粤ICP备16049607号-1</a> © 2016 mblog</span>
            </div>
        </footer>
    </div>

<!--</div>-->

{% endblock %}

{% block script %}
<script>
    $('.blog-summary').each(function () {
        $(this).children('*:gt(2)').remove();
        $(this).append('<p>......</p>');
    });
    $('.content-wrap').fadeIn();
</script>
{% endblock %}
